<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DataTable with Bootstrap 5 Pagination</title>
  <!-- Estilos de Bootstrap 5 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">
  <!-- Estilos de DataTables -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.11.2/css/dataTables.bootstrap5.min.css">
</head>
<body>
    <div class="container mt-4">
        <input type="text" id="custom-search" placeholder="Buscar">

        <div class="table-responsive">
            <table id="fileTable" class="table table-hover borderless">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Size</th>
                        <th>Date Modified</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <i id="" class="i-icon css-icon"></i>
                            table.css</td>
                        <td>1 MB</td>
                        <td>2023-08-31</td>
                    </tr>
                    <tr>
                        <td><i id="" class="i-icon folder-icon"></i>txt</td>
                        <td></td>
                        <td>2023-08-30</td>
                    </tr>
                    <tr>
                        <td>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</td>
                        <td>2 MB</td>
                        <td>2023-08-30</td>
                    </tr>
                    <tr>
                        <td><i id="" class="i-icon pdf-icon"></i>File 4</td>
                        <td>2 MB</td>
                        <td>2023-08-30</td>
                    </tr>
                    <tr>
                        <td><i id="" class="i-icon custom-icon"></i>File 5</td>
                        <td>2 MB</td>
                        <td>2023-08-30</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

  <!-- Librerías JavaScript -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.2/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.2/js/dataTables.bootstrap5.min.js"></script>

  <!-- Código JavaScript personalizado -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
            var tbody = document.querySelector("tbody"); // Selecciona el tbody en lugar de todas las filas
            var rows = tbody.querySelectorAll("tr"); // Selecciona solo las filas dentro del tbody
            
            rows.forEach(function(row) {
                row.addEventListener("click", function() {
                    // Remover la clase 'selected-row' de todas las filas
                    rows.forEach(function(row) {
                        row.classList.remove("selected-row");
                    });
                    
                    // Agregar la clase 'selected-row' a la fila clicada
                    this.classList.add("selected-row");
                });
            });
        });
    $(document).ready(function() {
      var table = $('#fileTable').DataTable({
        "ordering": true,
        "order": [[0, "asc"]],
        "searching": true,
        "lengthChange": false,
        "language": {
          "search": "Buscar:",
          "searchPlaceholder": "Buscar en la tabla"
        },
        "paging": false, // Deshabilitar la paginación de DataTables
        "columns": [
            { "width": "60%", "data": "name" },
            { "width": "10%", "data": "size" },
            { "width": "30%", "data": "date_modified" }
        ],
        "columnDefs": [
            { "targets": 0, "className": "text-left" },
            { "targets": [1,2], "className": "text-center", "searchable": false }
        ]
      });

      // Manejo del doble clic en DataTables
      $('#fileTable tbody').on('dblclick', 'tr', function () {
        var data = table.row(this).data();
        var selected = data["name"]; // Obtener el contenido de la primera columna
        var currentURL = window.location.href;
        currentURL = currentURL.replace("table2.html", "");
        var newUrl = currentURL + selected;
        window.location.href = newUrl;
      });

        // Agregar evento de entrada de búsqueda personalizado
        $('#custom-search').on('keyup', function() {
            table.search(this.value).draw();
        });
    });

  </script>

  <!-- Código CSS personalizado -->
  <style>    
    .selected-row {
    background-color: rgb(194,231,255) !important;
}

    .dataTables_filter,
    .dataTables_info  {
        display: none;
    }
    #fileTable tbody td:nth-child(1) {
        overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.i-icon{
    display: inline-block;
    width: 20px;
    height: 20px;
    margin-right: 0.5rem;
    transform: translateY(0.2rem);
}
.android-icon {
    background-image: url('./icons/android.svg');
}
.apk-icon {
    background-image: url('./icons/apk.svg');
}
.audio-icon {
    background-image: url('./icons/audio.svg');
}
.code-icon {
    background-image: url('./icons/code.svg');
}
.compressed-icon {
    background-image: url('./icons/compressed.svg');
}
.css-icon {
    background-image: url('./icons/css.svg');
}
.csv-icon {
    background-image: url('./icons/csv.svg');
}
.excel-icon {
    background-image: url('./icons/excel.svg');
}
.exe-icon {
    background-image: url('./icons/exe.svg');
}
.folder-icon {
    background-image: url('./icons/folder.svg');
}
.html-icon {
    background-image: url('./icons/html.svg');
}
.img-icon {
    background-image: url('./icons/img.svg');
}
.js-icon {
    background-image: url('./icons/js.svg');
}
.music-icon {
    background-image: url('./icons/music.svg');
}
.pdf-icon {
    background-image: url('./icons/pdf-light.svg');
}
.ppt-icon {
    background-image: url('./icons/ppt.svg');
}
.python-icon {
    background-image: url('./icons/python.svg');
}
.ppt-icon {
    background-image: url('./icons/ppt.svg');
}
.python-icon {
    background-image: url('./icons/python.svg');
}
.txt-icon {
    background-image: url('./icons/txt.svg');
}
.unknown-icon {
    background-image: url('./icons/unknown.svg');
}
.video-icon {
    background-image: url('./icons/video.svg');
}
.word-icon {
    background-image: url('./icons/word.svg');
}
.xml-icon {
    background-image: url('./icons/xml.svg');
}
.zip-icon {
    background-image: url('./icons/zip.svg');
}

.custom-icon {
    background-image: url('./icons/ppt-light.svg');
}

  </style>

</body>
</html>
